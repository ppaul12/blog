<div class="controller">
    <button
        id="profile-btn" class="contrast faa-parent animated-hover"
        onclick="location.href='/profile.html'" active
    ><i class="fa-solid fa-user-graduate faa-horizontal faa-slow"></i></button>

    <button
        id="theme-btn" class="contrast faa-parent animated-hover"
        onclick="toggleTheme(event)" active
    ><i class="fa-solid fa-lightbulb faa-flash faa-slow"></i></button>

    <button
        id="toc-btn" class="contrast faa-parent animated-hover"
        onclick="toggleModal(event)" data-target="toc-box"
    ><i class="fa-solid fa-bars-staggered faa-shake faa-slow"></i></button>
    <dialog id="toc-box" close><article>
        <header><nav>
            <ul>Contents</ul>
            <ul class="close-btn" data-target="toc-box" onclick="toggleModal(event)"></ul>
        </nav></header>
    </article></dialog>

    <button
        id="top-btn" class="contrast faa-parent animated-hover"
        onclick="document.documentElement.scrollTop=0"
    ><i class="fa-solid fa-angle-up faa-vertical"></i></button>
</div>

<div id="menu-btn" class="menu" onclick="toggleMenu(event)">
    <span class="menu-box">
        <span class="menu-icon"></span>
    </span>
    <div class="menu-content">
        <div class="menu-item" style="--ith: 0;"><a href="/">主页</a></div>
        <div class="menu-item" style="--ith: 1;"><a href="/album">相册</a></div>
        <div class="menu-item" style="--ith: 2;"><a href="/footprint">足迹</a></div>
        <div class="menu-item" style="--ith: 3;"><a href="/books">书架</a></div>
        <div class="menu-item" style="--ith: 4;"><a href="/archive">归档</a></div>
    </div>
</div>

<script>
    const toggleMenu = () => {
        document.getElementById("menu-btn").toggleAttribute("open")
        document.documentElement.toggleAttribute("overlay")
    }
    window.addEventListener("scroll", (event) => {
        const topBtn = document.getElementById("top-btn")
        if (document.documentElement.scrollTop < 200) {
            if (topBtn.hasAttribute("active")) {
                topBtn.toggleAttribute("inactivating", true)
                window.setTimeout(() => {
                    topBtn.toggleAttribute("active", false)
                    topBtn.toggleAttribute("inactivating", false)
                }, 2000)
            }
        } else {
            if (!topBtn.hasAttribute("active")) {
                topBtn.toggleAttribute("active", true)
            }
        }
    })
    // setup AOS
    AOS.init({offset: 60, duration: 1200})
</script>
